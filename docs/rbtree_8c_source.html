<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>cgdsa-c: rbtree.c Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">cgdsa-c
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_26367cb2638c536435b0d5aee9beedd4.html">red-black-tree</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">rbtree.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="rbtree_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* A Red-Black Tree</span>
<a name="l00002"></a>00002 <span class="comment"> * by: Michael Peek</span>
<a name="l00003"></a>00003 <span class="comment"> * Date: Sun, 13 Apr 2014 20:23:11 -0400</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * License:</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Copyright (c) 2014, Michael Peek &lt;peek3000@gmail.com&gt;</span>
<a name="l00008"></a>00008 <span class="comment"> * All rights reserved.</span>
<a name="l00009"></a>00009 <span class="comment"> * </span>
<a name="l00010"></a>00010 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00011"></a>00011 <span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
<a name="l00012"></a>00012 <span class="comment"> *              * Redistributions of source code must retain the above copyright</span>
<a name="l00013"></a>00013 <span class="comment"> *                      notice, this list of conditions and the following disclaimer.</span>
<a name="l00014"></a>00014 <span class="comment"> *              * Redistributions in binary form must reproduce the above copyright</span>
<a name="l00015"></a>00015 <span class="comment"> *                      notice, this list of conditions and the following disclaimer in the</span>
<a name="l00016"></a>00016 <span class="comment"> *                      documentation and/or other materials provided with the distribution.</span>
<a name="l00017"></a>00017 <span class="comment"> *              * The name of the author may not be used to endorse or promote products</span>
<a name="l00018"></a>00018 <span class="comment"> *                derived from this software without specific prior written permission.</span>
<a name="l00019"></a>00019 <span class="comment"> * </span>
<a name="l00020"></a>00020 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span>
<a name="l00021"></a>00021 <span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
<a name="l00022"></a>00022 <span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span>
<a name="l00023"></a>00023 <span class="comment"> * ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY</span>
<a name="l00024"></a>00024 <span class="comment"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<a name="l00025"></a>00025 <span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span>
<a name="l00026"></a>00026 <span class="comment"> * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
<a name="l00027"></a>00027 <span class="comment"> * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span>
<a name="l00028"></a>00028 <span class="comment"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</span>
<a name="l00029"></a>00029 <span class="comment"> * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
<a name="l00030"></a>00030 <span class="comment"> * DAMAGE.</span>
<a name="l00031"></a>00031 <span class="comment"> *</span>
<a name="l00032"></a>00032 <span class="comment"> */</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="rbtree_8h.html">rbtree.h</a>&quot;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">// Red-black tree mechanics implemented after the public-domain algorithm</span>
<a name="l00041"></a>00041 <span class="comment">// found at: http://en.literateprograms.org/Red-black_tree_(C)</span>
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">00043</a> <span class="keyword">enum</span> <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472b">rbcolor</a> { <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>, <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> };
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="struct____rbnode__t.html">00045</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct____rbnode__t.html">__rbnode_t</a> {
<a name="l00046"></a><a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">00046</a>         <span class="keyword">struct </span><a class="code" href="struct____rbnode__t.html">__rbnode_t</a> * <a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00047"></a><a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">00047</a>         <span class="keyword">struct </span><a class="code" href="struct____rbnode__t.html">__rbnode_t</a> * <a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00048"></a><a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">00048</a>         <span class="keyword">struct </span><a class="code" href="struct____rbnode__t.html">__rbnode_t</a> * <a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00049"></a><a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">00049</a>         <span class="keyword">enum</span> <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472b">rbcolor</a> <a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a>;
<a name="l00050"></a><a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">00050</a>         <span class="keywordtype">void</span> * <a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>;
<a name="l00051"></a><a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">00051</a>         <span class="keywordtype">void</span> * <a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>;
<a name="l00052"></a>00052 } <a class="code" href="rbtree_8c.html#a94808f52cacdd23978e41e5deb5e3840">rbnode_t</a>;
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="struct____rbtree__t.html">00054</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct____rbtree__t.html">__rbtree_t</a> {
<a name="l00055"></a><a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">00055</a>         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00056"></a><a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">00056</a>         <a class="code" href="rbtree_8h.html#abc22639d779109f877104dc038b5eb3f">rbtree_compare</a> <a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a>;
<a name="l00057"></a><a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">00057</a>         <a class="code" href="rbtree_8h.html#a9bf1561b92ddf216c57425c3ece4b3f0" title="A free function used for node removal.">rbtree_free</a> <a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">free</a>;
<a name="l00058"></a><a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">00058</a>         <span class="keywordtype">size_t</span> <a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">size</a>;
<a name="l00059"></a>00059 } <a class="code" href="rbtree_8c.html#aae23ae33b10f12519fcd144cc9fdbe27">rbtree_t</a>;
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">00061</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00062"></a>00062 {
<a name="l00063"></a>00063         assert(n != NULL);
<a name="l00064"></a>00064         assert(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL);
<a name="l00065"></a>00065         assert(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL);
<a name="l00066"></a>00066         <span class="keywordflow">return</span>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00067"></a>00067 }
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">00069</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00070"></a>00070 {
<a name="l00071"></a>00071         assert(n != NULL);
<a name="l00072"></a>00072         assert(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL);
<a name="l00073"></a>00073         <span class="keywordflow">if</span> (n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>)
<a name="l00074"></a>00074                 <span class="keywordflow">return</span>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>);
<a name="l00075"></a>00075         <span class="keywordflow">else</span>
<a name="l00076"></a>00076                 <span class="keywordflow">return</span>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="rbtree_8c.html#ab1821b720529eb37348db1f753597d12">00079</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ab1821b720529eb37348db1f753597d12">__rbtree_uncle</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081         assert(n != NULL);
<a name="l00082"></a>00082         assert(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL);
<a name="l00083"></a>00083         assert(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL);
<a name="l00084"></a>00084         <span class="keywordflow">return</span>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>));
<a name="l00085"></a>00085 }
<a name="l00086"></a>00086 
<a name="l00087"></a><a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">00087</a> <span class="keyword">enum</span> <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472b">rbcolor</a> <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00088"></a>00088 {
<a name="l00089"></a>00089         <span class="keywordflow">return</span>( n == NULL ? <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> : n-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> );
<a name="l00090"></a>00090 }
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span><span class="keywordtype">void</span> __rbtree_verify_property_1(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00094"></a>00094 {
<a name="l00095"></a>00095         assert(<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a> || <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>);
<a name="l00096"></a>00096         <span class="keywordflow">if</span> (n == NULL) <span class="keywordflow">return</span>;
<a name="l00097"></a>00097         __rbtree_verify_property_1(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l00098"></a>00098         __rbtree_verify_property_1(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>);
<a name="l00099"></a>00099 }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="keywordtype">void</span> __rbtree_verify_property_2(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00102"></a>00102 {
<a name="l00103"></a>00103         assert(<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>);
<a name="l00104"></a>00104 }
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="keywordtype">void</span> __rbtree_verify_property_4(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00107"></a>00107 {
<a name="l00108"></a>00108         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>) {
<a name="l00109"></a>00109                 assert(<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>);
<a name="l00110"></a>00110                 assert(<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>);
<a name="l00111"></a>00111                 assert(<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>);
<a name="l00112"></a>00112         }
<a name="l00113"></a>00113         <span class="keywordflow">if</span> (n == NULL) <span class="keywordflow">return</span>;
<a name="l00114"></a>00114         __rbtree_verify_property_4(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l00115"></a>00115         __rbtree_verify_property_4(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>);
<a name="l00116"></a>00116 }
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="keywordtype">void</span> __rbtree_verify_property_5b(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n, <span class="keywordtype">int</span> black_count, <span class="keywordtype">int</span> * path_black_count) {
<a name="l00119"></a>00119         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>) {
<a name="l00120"></a>00120                 black_count++;
<a name="l00121"></a>00121         }
<a name="l00122"></a>00122         <span class="keywordflow">if</span> (n == NULL) {
<a name="l00123"></a>00123                 <span class="keywordflow">if</span> (*path_black_count == -1) {
<a name="l00124"></a>00124                         *path_black_count = black_count;
<a name="l00125"></a>00125                 }
<a name="l00126"></a>00126                 <span class="keywordflow">else</span> {
<a name="l00127"></a>00127                         assert(black_count == *path_black_count);
<a name="l00128"></a>00128                 }
<a name="l00129"></a>00129                 <span class="keywordflow">return</span>;
<a name="l00130"></a>00130         }
<a name="l00131"></a>00131         __rbtree_verify_property_5b(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>, black_count, path_black_count);
<a name="l00132"></a>00132         __rbtree_verify_property_5b(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>, black_count, path_black_count);
<a name="l00133"></a>00133 }
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="keywordtype">void</span> __rbtree_verify_property_5(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00136"></a>00136 {
<a name="l00137"></a>00137         <span class="keywordtype">int</span> black_count_path = -1;
<a name="l00138"></a>00138         __rbtree_verify_property_5b(n, 0, &amp;black_count_path);
<a name="l00139"></a>00139 }
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a3567377e95aead6d4070d14e2258b166">__rbtree_verify_properties</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00142"></a>00142 {
<a name="l00143"></a>00143         __rbtree_verify_property_1(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l00144"></a>00144         __rbtree_verify_property_2(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l00145"></a>00145         <span class="comment">// Property 3 is implicit</span>
<a name="l00146"></a>00146         __rbtree_verify_property_4(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l00147"></a>00147         __rbtree_verify_property_5(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l00148"></a>00148 }
<a name="l00149"></a>00149 <span class="preprocessor">#else</span>
<a name="l00150"></a><a class="code" href="rbtree_8c.html#a3567377e95aead6d4070d14e2258b166">00150</a> <span class="preprocessor"></span><span class="preprocessor">#define __rbtree_verify_properties(t)</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00153"></a><a class="code" href="rbtree_8h.html#a21781311b2d0ce0203c651b4706ee5e1">00153</a> <a class="code" href="struct____rbtree__t.html">rbtree_t</a> * <a class="code" href="rbtree_8c.html#a21781311b2d0ce0203c651b4706ee5e1" title="Create a new tree.">rbtree_create</a>(<a class="code" href="rbtree_8h.html#abc22639d779109f877104dc038b5eb3f">rbtree_compare</a> <a class="code" href="test-dllist_8c.html#a2685ee0be285d37254928405d96ce3d9">compare</a>, <a class="code" href="rbtree_8h.html#a9bf1561b92ddf216c57425c3ece4b3f0" title="A free function used for node removal.">rbtree_free</a> free)
<a name="l00154"></a>00154 {
<a name="l00155"></a>00155         <a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t = NULL;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157         assert(compare != NULL);
<a name="l00158"></a>00158         t = (<a class="code" href="struct____rbtree__t.html">rbtree_t</a> *)malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a>));
<a name="l00159"></a>00159         t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> = NULL;
<a name="l00160"></a>00160         t-&gt;<a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a> = <a class="code" href="test-dllist_8c.html#a2685ee0be285d37254928405d96ce3d9">compare</a>;
<a name="l00161"></a>00161         t-&gt;<a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">free</a> = free;
<a name="l00162"></a>00162         t-&gt;<a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">size</a> = 0;
<a name="l00163"></a>00163         <a class="code" href="rbtree_8c.html#a3567377e95aead6d4070d14e2258b166">__rbtree_verify_properties</a>(t);
<a name="l00164"></a>00164         <span class="keywordflow">return</span>(t);
<a name="l00165"></a>00165 }
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="rbtree_8h.html#ae193cc8462497eb8fcd9fe954cf3331e">00167</a> <span class="keywordtype">int</span> <a class="code" href="rbtree_8c.html#ae193cc8462497eb8fcd9fe954cf3331e" title="Empty the tree by destroying all of it&#39;s nodes.">rbtree_clear</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00168"></a>00168 {
<a name="l00169"></a>00169         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n;
<a name="l00170"></a>00170         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * p;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         n = <a class="code" href="rbtree_8c.html#a1be9c3da0c47486f7278fa275d442493" title="Given a tree, return the first node for post-order traversal.">rbtree_post_order_first</a>(t);
<a name="l00173"></a>00173         <span class="keywordflow">while</span> (n != NULL) {
<a name="l00174"></a>00174                 p = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00175"></a>00175                 <span class="keywordflow">if</span> (!<a class="code" href="rbtree_8c.html#ab63a120cf1b6a0f770a872ea1139f404" title="Given a tree and a node, remove the node from the tree.">rbtree_remove</a>(t, n))
<a name="l00176"></a>00176                         <span class="keywordflow">return</span>(0);
<a name="l00177"></a>00177                 n = p;
<a name="l00178"></a>00178                 n = <a class="code" href="rbtree_8c.html#a9c776be6dbf6f5bef93bc97cc7ea6bde" title="Given a node, return the next node via post-order traversal.">rbtree_post_order_next</a>(n);
<a name="l00179"></a>00179         }
<a name="l00180"></a>00180         <span class="keywordflow">return</span>(1);
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a><a class="code" href="rbtree_8c.html#afd39768ccfa719ca02c4f5d7f34e638f">00183</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#afd39768ccfa719ca02c4f5d7f34e638f">__rbtree_new_node</a>(
<a name="l00184"></a>00184         <span class="keywordtype">void</span> * key, <span class="keywordtype">void</span> * value, <span class="keyword">enum</span> <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472b">rbcolor</a> color, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * left,
<a name="l00185"></a>00185         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * right)
<a name="l00186"></a>00186 {
<a name="l00187"></a>00187         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * result = NULL;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189         result = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a>));
<a name="l00190"></a>00190         assert(result != NULL);
<a name="l00191"></a>00191         result-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a> = key;
<a name="l00192"></a>00192         result-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a> = value;
<a name="l00193"></a>00193         result-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = color;
<a name="l00194"></a>00194         result-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> = left;
<a name="l00195"></a>00195         result-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> = right;
<a name="l00196"></a>00196         <span class="keywordflow">if</span> (left != NULL)
<a name="l00197"></a>00197                 left-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = result;
<a name="l00198"></a>00198         <span class="keywordflow">if</span> (right != NULL)
<a name="l00199"></a>00199                 right-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = result;
<a name="l00200"></a>00200         result-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = NULL;
<a name="l00201"></a>00201         <span class="keywordflow">return</span>(result);
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="rbtree_8h.html#ab1f8c959d26d5326eea7375e5da09738">00204</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ab1f8c959d26d5326eea7375e5da09738" title="Given a tree and a key, search the tree for a node with the given key.">rbtree_find</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <span class="keywordtype">void</span> * key)
<a name="l00205"></a>00205 {
<a name="l00206"></a>00206         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208         n = t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00209"></a>00209         <span class="keywordflow">while</span> (n != NULL) {
<a name="l00210"></a>00210                 <span class="keywordtype">int</span> comp_result = t-&gt;<a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a>(key, n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>);
<a name="l00211"></a>00211                 <span class="keywordflow">if</span> (comp_result == 0) {
<a name="l00212"></a>00212                         <span class="keywordflow">return</span>(n);
<a name="l00213"></a>00213                 }
<a name="l00214"></a>00214                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (comp_result &lt; 0) {
<a name="l00215"></a>00215                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00216"></a>00216                 }
<a name="l00217"></a>00217                 <span class="keywordflow">else</span> {
<a name="l00218"></a>00218                         assert(comp_result &gt; 0);
<a name="l00219"></a>00219                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00220"></a>00220                 }
<a name="l00221"></a>00221         }
<a name="l00222"></a>00222         <span class="keywordflow">return</span>(n);
<a name="l00223"></a>00223 }
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="comment">/*</span>
<a name="l00226"></a>00226 <span class="comment">void * rbtree_find(rbtree_t * t, void * key, rbtree_compare compare)</span>
<a name="l00227"></a>00227 <span class="comment">{</span>
<a name="l00228"></a>00228 <span class="comment">        rbnode_t * n = NULL;</span>
<a name="l00229"></a>00229 <span class="comment">        n = find(t, key, compare);</span>
<a name="l00230"></a>00230 <span class="comment">        return(n == NULL ? NULL : n-&gt;value);</span>
<a name="l00231"></a>00231 <span class="comment">}</span>
<a name="l00232"></a>00232 <span class="comment">*/</span>
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="rbtree_8c.html#afe53c1cf283bf7953247008814060bc5">00234</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#afe53c1cf283bf7953247008814060bc5">replace_node</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * oldn, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * newn)
<a name="l00235"></a>00235 {
<a name="l00236"></a>00236         <span class="keywordflow">if</span> (oldn-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == NULL) {
<a name="l00237"></a>00237                 t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> = newn;
<a name="l00238"></a>00238         }
<a name="l00239"></a>00239         <span class="keywordflow">else</span> {
<a name="l00240"></a>00240                 <span class="keywordflow">if</span> (oldn == oldn-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>)
<a name="l00241"></a>00241                         oldn-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> = newn;
<a name="l00242"></a>00242                 <span class="keywordflow">else</span>
<a name="l00243"></a>00243                         oldn-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> = newn;
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245         <span class="keywordflow">if</span> (newn != NULL) {
<a name="l00246"></a>00246                 newn-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = oldn-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00247"></a>00247         }
<a name="l00248"></a>00248 }
<a name="l00249"></a>00249 
<a name="l00250"></a><a class="code" href="rbtree_8c.html#ac375b01a7355a90892ee4736d340f5dc">00250</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#ac375b01a7355a90892ee4736d340f5dc">__rbtree_rotate_left</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00251"></a>00251 {
<a name="l00252"></a>00252         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * r = NULL;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254         r = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00255"></a>00255         <a class="code" href="rbtree_8c.html#afe53c1cf283bf7953247008814060bc5">replace_node</a>(t, n, r);
<a name="l00256"></a>00256         n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> = r-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00257"></a>00257         <span class="keywordflow">if</span> (r-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL) {
<a name="l00258"></a>00258                 r-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = n;
<a name="l00259"></a>00259         }
<a name="l00260"></a>00260         r-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> = n;
<a name="l00261"></a>00261         n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = r;
<a name="l00262"></a>00262 }
<a name="l00263"></a>00263 
<a name="l00264"></a><a class="code" href="rbtree_8c.html#a0b545cf4437d8c5d38248ae8e5f25053">00264</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a0b545cf4437d8c5d38248ae8e5f25053">__rbtree_rotate_right</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00265"></a>00265 {
<a name="l00266"></a>00266         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * l = NULL;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268         l = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00269"></a>00269         <a class="code" href="rbtree_8c.html#afe53c1cf283bf7953247008814060bc5">replace_node</a>(t, n, l);
<a name="l00270"></a>00270         n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> = l-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00271"></a>00271         <span class="keywordflow">if</span> (l-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL) {
<a name="l00272"></a>00272                 l-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = n;
<a name="l00273"></a>00273         }
<a name="l00274"></a>00274         l-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> = n;
<a name="l00275"></a>00275         n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = l;
<a name="l00276"></a>00276 }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a857d3c8ef7e0e376ae57c3a61f0b1e88">__rbtree_insert_case1</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00279"></a>00279 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a6688c8ec09b44f8c433aa2f6a339e5e2">__rbtree_insert_case2</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00280"></a>00280 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a21f411c67e520d7e7b6c266c76884f09">__rbtree_insert_case3</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00281"></a>00281 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#aeddf52771e4ec723cbd70dc13e6cfb55">__rbtree_insert_case4</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00282"></a>00282 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a76fa5e99a408d6e71082e94ac6d0575f">__rbtree_insert_case5</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="rbtree_8c.html#a857d3c8ef7e0e376ae57c3a61f0b1e88">00284</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a857d3c8ef7e0e376ae57c3a61f0b1e88">__rbtree_insert_case1</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00285"></a>00285 {
<a name="l00286"></a>00286         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == NULL)
<a name="l00287"></a>00287                 n-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00288"></a>00288         <span class="keywordflow">else</span>
<a name="l00289"></a>00289                 <a class="code" href="rbtree_8c.html#a6688c8ec09b44f8c433aa2f6a339e5e2">__rbtree_insert_case2</a>(t, n);
<a name="l00290"></a>00290 }
<a name="l00291"></a>00291 
<a name="l00292"></a><a class="code" href="rbtree_8c.html#a6688c8ec09b44f8c433aa2f6a339e5e2">00292</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a6688c8ec09b44f8c433aa2f6a339e5e2">__rbtree_insert_case2</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00293"></a>00293 {
<a name="l00294"></a>00294         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>)
<a name="l00295"></a>00295                 <span class="keywordflow">return</span>;
<a name="l00296"></a>00296         <span class="keywordflow">else</span>
<a name="l00297"></a>00297                 <a class="code" href="rbtree_8c.html#a21f411c67e520d7e7b6c266c76884f09">__rbtree_insert_case3</a>(t, n);
<a name="l00298"></a>00298 }
<a name="l00299"></a>00299 
<a name="l00300"></a><a class="code" href="rbtree_8c.html#a21f411c67e520d7e7b6c266c76884f09">00300</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a21f411c67e520d7e7b6c266c76884f09">__rbtree_insert_case3</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00301"></a>00301 {
<a name="l00302"></a>00302         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ab1821b720529eb37348db1f753597d12">__rbtree_uncle</a>(n)) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>) {
<a name="l00303"></a>00303                 n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00304"></a>00304                 <a class="code" href="rbtree_8c.html#ab1821b720529eb37348db1f753597d12">__rbtree_uncle</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00305"></a>00305                 <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00306"></a>00306                 <a class="code" href="rbtree_8c.html#a857d3c8ef7e0e376ae57c3a61f0b1e88">__rbtree_insert_case1</a>(t, <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n));
<a name="l00307"></a>00307         }
<a name="l00308"></a>00308         <span class="keywordflow">else</span> {
<a name="l00309"></a>00309                 <a class="code" href="rbtree_8c.html#aeddf52771e4ec723cbd70dc13e6cfb55">__rbtree_insert_case4</a>(t, n);
<a name="l00310"></a>00310         }
<a name="l00311"></a>00311 }
<a name="l00312"></a>00312 
<a name="l00313"></a><a class="code" href="rbtree_8c.html#aeddf52771e4ec723cbd70dc13e6cfb55">00313</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#aeddf52771e4ec723cbd70dc13e6cfb55">__rbtree_insert_case4</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00314"></a>00314 {
<a name="l00315"></a>00315         <span class="keywordflow">if</span> (n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n)-&gt;left) {
<a name="l00316"></a>00316                 <a class="code" href="rbtree_8c.html#ac375b01a7355a90892ee4736d340f5dc">__rbtree_rotate_left</a>(t, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00317"></a>00317                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00318"></a>00318         }
<a name="l00319"></a>00319         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n)-&gt;right) {
<a name="l00320"></a>00320                 <a class="code" href="rbtree_8c.html#a0b545cf4437d8c5d38248ae8e5f25053">__rbtree_rotate_right</a>(t, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00321"></a>00321                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00322"></a>00322         }
<a name="l00323"></a>00323         <a class="code" href="rbtree_8c.html#a76fa5e99a408d6e71082e94ac6d0575f">__rbtree_insert_case5</a>(t, n);
<a name="l00324"></a>00324 }
<a name="l00325"></a>00325 
<a name="l00326"></a><a class="code" href="rbtree_8c.html#a76fa5e99a408d6e71082e94ac6d0575f">00326</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a76fa5e99a408d6e71082e94ac6d0575f">__rbtree_insert_case5</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00327"></a>00327 {
<a name="l00328"></a>00328         n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00329"></a>00329         <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00330"></a>00330         <span class="keywordflow">if</span> (n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n)-&gt;left) {
<a name="l00331"></a>00331                 <a class="code" href="rbtree_8c.html#a0b545cf4437d8c5d38248ae8e5f25053">__rbtree_rotate_right</a>(t, <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n));
<a name="l00332"></a>00332         }
<a name="l00333"></a>00333         <span class="keywordflow">else</span> {
<a name="l00334"></a>00334                 assert(n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n)-&gt;right);
<a name="l00335"></a>00335                 <a class="code" href="rbtree_8c.html#ac375b01a7355a90892ee4736d340f5dc">__rbtree_rotate_left</a>(t, <a class="code" href="rbtree_8c.html#a693af79d681058989c5f3e157e5b1c63">__rbtree_grandparent</a>(n));
<a name="l00336"></a>00336         }
<a name="l00337"></a>00337 }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 <span class="comment">/*</span>
<a name="l00340"></a>00340 <span class="comment">int OLD___rbtree_insert(</span>
<a name="l00341"></a>00341 <span class="comment">        rbtree_t * t, void * key, void * value)</span>
<a name="l00342"></a>00342 <span class="comment">{</span>
<a name="l00343"></a>00343 <span class="comment">        rbnode_t * inserted_node = NULL;</span>
<a name="l00344"></a>00344 <span class="comment"></span>
<a name="l00345"></a>00345 <span class="comment">        if (t-&gt;root == NULL) {</span>
<a name="l00346"></a>00346 <span class="comment">                inserted_node = __rbtree_new_node(key, value, RED, NULL, NULL);</span>
<a name="l00347"></a>00347 <span class="comment">                if (inserted_node == NULL)</span>
<a name="l00348"></a>00348 <span class="comment">                        return(0);</span>
<a name="l00349"></a>00349 <span class="comment">        </span>
<a name="l00350"></a>00350 <span class="comment">                t-&gt;root = inserted_node;</span>
<a name="l00351"></a>00351 <span class="comment">        }</span>
<a name="l00352"></a>00352 <span class="comment">        else {</span>
<a name="l00353"></a>00353 <span class="comment">                rbnode_t * n = NULL;</span>
<a name="l00354"></a>00354 <span class="comment"></span>
<a name="l00355"></a>00355 <span class="comment">                n = t-&gt;root;</span>
<a name="l00356"></a>00356 <span class="comment">                while (1) {</span>
<a name="l00357"></a>00357 <span class="comment">                        int comp_result = 0;</span>
<a name="l00358"></a>00358 <span class="comment">                        </span>
<a name="l00359"></a>00359 <span class="comment">                        comp_result = t-&gt;compare(key, n-&gt;key);</span>
<a name="l00360"></a>00360 <span class="comment">                        if (comp_result == 0) {</span>
<a name="l00361"></a>00361 <span class="comment">                                if (!rbtree_remove(t, n))</span>
<a name="l00362"></a>00362 <span class="comment">                                        return(0);</span>
<a name="l00363"></a>00363 <span class="comment">                                return(rbtree_insert(t, key, value));</span>
<a name="l00364"></a>00364 <span class="comment">                        }</span>
<a name="l00365"></a>00365 <span class="comment">                        else if (comp_result &lt; 0) {</span>
<a name="l00366"></a>00366 <span class="comment">                                if (n-&gt;left == NULL) {</span>
<a name="l00367"></a>00367 <span class="comment">                                        inserted_node = __rbtree_new_node(key, value, RED, NULL, NULL);</span>
<a name="l00368"></a>00368 <span class="comment">                                        if (inserted_node == NULL)</span>
<a name="l00369"></a>00369 <span class="comment">                                                return(0);</span>
<a name="l00370"></a>00370 <span class="comment">        </span>
<a name="l00371"></a>00371 <span class="comment">                                        n-&gt;left = inserted_node;</span>
<a name="l00372"></a>00372 <span class="comment">                                        break;</span>
<a name="l00373"></a>00373 <span class="comment">                                }</span>
<a name="l00374"></a>00374 <span class="comment">                                else {</span>
<a name="l00375"></a>00375 <span class="comment">                                        n = n-&gt;left;</span>
<a name="l00376"></a>00376 <span class="comment">                                }</span>
<a name="l00377"></a>00377 <span class="comment">                        }</span>
<a name="l00378"></a>00378 <span class="comment">                        else {</span>
<a name="l00379"></a>00379 <span class="comment">                                assert(comp_result &gt; 0);</span>
<a name="l00380"></a>00380 <span class="comment">                                if (n-&gt;right == NULL) {</span>
<a name="l00381"></a>00381 <span class="comment">                                        inserted_node = __rbtree_new_node(key, value, RED, NULL, NULL);</span>
<a name="l00382"></a>00382 <span class="comment">                                        if (inserted_node == NULL)</span>
<a name="l00383"></a>00383 <span class="comment">                                                return(0);</span>
<a name="l00384"></a>00384 <span class="comment">        </span>
<a name="l00385"></a>00385 <span class="comment">                                        n-&gt;right = inserted_node;</span>
<a name="l00386"></a>00386 <span class="comment">                                        break;</span>
<a name="l00387"></a>00387 <span class="comment">                                }</span>
<a name="l00388"></a>00388 <span class="comment">                                else {</span>
<a name="l00389"></a>00389 <span class="comment">                                        n = n-&gt;right;</span>
<a name="l00390"></a>00390 <span class="comment">                                }</span>
<a name="l00391"></a>00391 <span class="comment">                        }</span>
<a name="l00392"></a>00392 <span class="comment">                }</span>
<a name="l00393"></a>00393 <span class="comment">                inserted_node-&gt;parent = n;</span>
<a name="l00394"></a>00394 <span class="comment">        }</span>
<a name="l00395"></a>00395 <span class="comment">        t-&gt;size++;</span>
<a name="l00396"></a>00396 <span class="comment">        __rbtree_insert_case1(t, inserted_node);</span>
<a name="l00397"></a>00397 <span class="comment">        __rbtree_verify_properties(t);</span>
<a name="l00398"></a>00398 <span class="comment"></span>
<a name="l00399"></a>00399 <span class="comment">        return(1);</span>
<a name="l00400"></a>00400 <span class="comment">}</span>
<a name="l00401"></a>00401 <span class="comment">*/</span>
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="rbtree_8h.html#a8f6b6d5ff5390504a7d22316c525febc">00403</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ab56b6b8a75071a93f85223ad1b8d0542" title="Attach a node to the tree.">rbtree_attach_node</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * node)
<a name="l00404"></a>00404 {
<a name="l00405"></a>00405         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00406"></a>00406         <span class="keywordtype">int</span> comp_result = 0;
<a name="l00407"></a>00407 
<a name="l00408"></a>00408         <span class="keywordflow">if</span> (t == NULL)
<a name="l00409"></a>00409                 <span class="keywordflow">return</span>(NULL);
<a name="l00410"></a>00410 
<a name="l00411"></a>00411         node-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00412"></a>00412         node-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = NULL;
<a name="l00413"></a>00413         node-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> = NULL;
<a name="l00414"></a>00414         node-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> = NULL;
<a name="l00415"></a>00415 
<a name="l00416"></a>00416         <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> == NULL) {
<a name="l00417"></a>00417                 t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> = node;
<a name="l00418"></a>00418         }
<a name="l00419"></a>00419         <span class="keywordflow">else</span> {
<a name="l00420"></a>00420                 n = t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00421"></a>00421                 <span class="keywordflow">while</span>(1) {
<a name="l00422"></a>00422                         comp_result = t-&gt;<a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a>(node-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>, n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>);
<a name="l00423"></a>00423                         <span class="keywordflow">if</span> (comp_result == 0) {
<a name="l00424"></a>00424                                 <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">free</a> != NULL)
<a name="l00425"></a>00425                                         t-&gt;<a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">free</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>, n-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>);
<a name="l00426"></a>00426                                 n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a> = node-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>;
<a name="l00427"></a>00427                                 n-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a> = node-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>;
<a name="l00428"></a>00428                                 free(node);
<a name="l00429"></a>00429                                 <span class="keywordflow">return</span>(n);
<a name="l00430"></a>00430                         }
<a name="l00431"></a>00431                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (comp_result &lt; 0) {
<a name="l00432"></a>00432                                 <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> == NULL) {
<a name="l00433"></a>00433                                         n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> = node;
<a name="l00434"></a>00434                                         <span class="keywordflow">break</span>;
<a name="l00435"></a>00435                                 }
<a name="l00436"></a>00436                                 <span class="keywordflow">else</span> {
<a name="l00437"></a>00437                                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00438"></a>00438                                 }
<a name="l00439"></a>00439                         }
<a name="l00440"></a>00440                         <span class="keywordflow">else</span> {
<a name="l00441"></a>00441                                 assert(comp_result &gt; 0);
<a name="l00442"></a>00442                                 <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> == NULL) {
<a name="l00443"></a>00443                                         n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> = node;
<a name="l00444"></a>00444                                         <span class="keywordflow">break</span>;
<a name="l00445"></a>00445                                 }
<a name="l00446"></a>00446                                 <span class="keywordflow">else</span> {
<a name="l00447"></a>00447                                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00448"></a>00448                                 }
<a name="l00449"></a>00449                         }
<a name="l00450"></a>00450                 }
<a name="l00451"></a>00451                 node-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = n;
<a name="l00452"></a>00452         }
<a name="l00453"></a>00453         t-&gt;<a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">size</a>++;
<a name="l00454"></a>00454         <a class="code" href="rbtree_8c.html#a857d3c8ef7e0e376ae57c3a61f0b1e88">__rbtree_insert_case1</a>(t, node);
<a name="l00455"></a>00455         <a class="code" href="rbtree_8c.html#a3567377e95aead6d4070d14e2258b166">__rbtree_verify_properties</a>(t);
<a name="l00456"></a>00456 
<a name="l00457"></a>00457         <span class="keywordflow">return</span>(node);
<a name="l00458"></a>00458 }
<a name="l00459"></a>00459 
<a name="l00460"></a><a class="code" href="rbtree_8h.html#ac3a6d87a1a3990ef98de3a4e6547cab1">00460</a> <span class="keywordtype">int</span> <a class="code" href="rbtree_8c.html#ac3a6d87a1a3990ef98de3a4e6547cab1" title="Create a new node with the given key/value pair, and insert it into the tree.">rbtree_insert</a>(
<a name="l00461"></a>00461         <a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <span class="keywordtype">void</span> * key, <span class="keywordtype">void</span> * value)
<a name="l00462"></a>00462 {
<a name="l00463"></a>00463         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00464"></a>00464 
<a name="l00465"></a>00465         n = <a class="code" href="rbtree_8c.html#afd39768ccfa719ca02c4f5d7f34e638f">__rbtree_new_node</a>(key, value, <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>, NULL, NULL);
<a name="l00466"></a>00466         <span class="keywordflow">if</span> (n == NULL)
<a name="l00467"></a>00467                 <span class="keywordflow">return</span>(0);
<a name="l00468"></a>00468 
<a name="l00469"></a>00469         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#ab56b6b8a75071a93f85223ad1b8d0542" title="Attach a node to the tree.">rbtree_attach_node</a>(t, n) == NULL)
<a name="l00470"></a>00470                 <span class="keywordflow">return</span>(0);
<a name="l00471"></a>00471         
<a name="l00472"></a>00472         <span class="keywordflow">return</span>(1);
<a name="l00473"></a>00473 }
<a name="l00474"></a>00474 
<a name="l00475"></a><a class="code" href="rbtree_8c.html#acc37d1f06fef3616bed538c92a951f8f">00475</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#acc37d1f06fef3616bed538c92a951f8f">__rbtree_maximum_node</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00476"></a>00476 {
<a name="l00477"></a>00477         assert(n != NULL);
<a name="l00478"></a>00478         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL) {
<a name="l00479"></a>00479                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00480"></a>00480         }
<a name="l00481"></a>00481         <span class="keywordflow">return</span>(n);
<a name="l00482"></a>00482 }
<a name="l00483"></a>00483 
<a name="l00484"></a>00484 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#abcd5a0c6b013c882c9aa9dc512c8ddc2">__rbtree_delete_case1</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00485"></a>00485 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#aedfaf48ab188e8a100e9b7b02bee1684">__rbtree_delete_case2</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00486"></a>00486 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#ae86a40471768717a2f1fab09fde4a395">__rbtree_delete_case3</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00487"></a>00487 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#acef36edb976d1eedbd5362c50c6735f1">__rbtree_delete_case4</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00488"></a>00488 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a2bc978ec801f110f70fbb8d48359eb55">__rbtree_delete_case5</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00489"></a>00489 <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#ae9bc99cf7832e7ea38ebfb4a8e28aec0">__rbtree_delete_case6</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n);
<a name="l00490"></a>00490 
<a name="l00491"></a><a class="code" href="rbtree_8c.html#abcd5a0c6b013c882c9aa9dc512c8ddc2">00491</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#abcd5a0c6b013c882c9aa9dc512c8ddc2">__rbtree_delete_case1</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00492"></a>00492 {
<a name="l00493"></a>00493         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == NULL)
<a name="l00494"></a>00494                 <span class="keywordflow">return</span>;
<a name="l00495"></a>00495         <span class="keywordflow">else</span>
<a name="l00496"></a>00496                 <a class="code" href="rbtree_8c.html#aedfaf48ab188e8a100e9b7b02bee1684">__rbtree_delete_case2</a>(t, n);
<a name="l00497"></a>00497 }
<a name="l00498"></a>00498 
<a name="l00499"></a><a class="code" href="rbtree_8c.html#aedfaf48ab188e8a100e9b7b02bee1684">00499</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#aedfaf48ab188e8a100e9b7b02bee1684">__rbtree_delete_case2</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>) {
<a name="l00502"></a>00502                 n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00503"></a>00503                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00504"></a>00504                 <span class="keywordflow">if</span> (n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>)
<a name="l00505"></a>00505                         <a class="code" href="rbtree_8c.html#ac375b01a7355a90892ee4736d340f5dc">__rbtree_rotate_left</a>(t, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00506"></a>00506                 <span class="keywordflow">else</span>
<a name="l00507"></a>00507                         <a class="code" href="rbtree_8c.html#a0b545cf4437d8c5d38248ae8e5f25053">__rbtree_rotate_right</a>(t, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00508"></a>00508         }
<a name="l00509"></a>00509         <a class="code" href="rbtree_8c.html#ae86a40471768717a2f1fab09fde4a395">__rbtree_delete_case3</a>(t, n);
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="rbtree_8c.html#ae86a40471768717a2f1fab09fde4a395">00512</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#ae86a40471768717a2f1fab09fde4a395">__rbtree_delete_case3</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514         <span class="keywordflow">if</span> (
<a name="l00515"></a>00515                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> &amp;&amp;
<a name="l00516"></a>00516                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> &amp;&amp;
<a name="l00517"></a>00517                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;left) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> &amp;&amp;
<a name="l00518"></a>00518                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;right) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>
<a name="l00519"></a>00519                 )
<a name="l00520"></a>00520         {
<a name="l00521"></a>00521                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00522"></a>00522                 <a class="code" href="rbtree_8c.html#abcd5a0c6b013c882c9aa9dc512c8ddc2">__rbtree_delete_case1</a>(t, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00523"></a>00523         }
<a name="l00524"></a>00524         <span class="keywordflow">else</span>
<a name="l00525"></a>00525                 <a class="code" href="rbtree_8c.html#acef36edb976d1eedbd5362c50c6735f1">__rbtree_delete_case4</a>(t, n);
<a name="l00526"></a>00526 }
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="rbtree_8c.html#acef36edb976d1eedbd5362c50c6735f1">00528</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#acef36edb976d1eedbd5362c50c6735f1">__rbtree_delete_case4</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00529"></a>00529 {
<a name="l00530"></a>00530         <span class="keywordflow">if</span> (
<a name="l00531"></a>00531                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a> &amp;&amp;
<a name="l00532"></a>00532                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> &amp;&amp;
<a name="l00533"></a>00533                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;left) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> &amp;&amp;
<a name="l00534"></a>00534                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;right) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>
<a name="l00535"></a>00535                 )
<a name="l00536"></a>00536         {
<a name="l00537"></a>00537                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00538"></a>00538                 n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00539"></a>00539         }
<a name="l00540"></a>00540         <span class="keywordflow">else</span>
<a name="l00541"></a>00541                 <a class="code" href="rbtree_8c.html#a2bc978ec801f110f70fbb8d48359eb55">__rbtree_delete_case5</a>(t, n);
<a name="l00542"></a>00542 }
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="rbtree_8c.html#a2bc978ec801f110f70fbb8d48359eb55">00544</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a2bc978ec801f110f70fbb8d48359eb55">__rbtree_delete_case5</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00545"></a>00545 {
<a name="l00546"></a>00546         <span class="keywordflow">if</span> (
<a name="l00547"></a>00547                 n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> &amp;&amp;
<a name="l00548"></a>00548                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> &amp;&amp;
<a name="l00549"></a>00549                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;left) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a> &amp;&amp;
<a name="l00550"></a>00550                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;right) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>
<a name="l00551"></a>00551                 )
<a name="l00552"></a>00552         {
<a name="l00553"></a>00553                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00554"></a>00554                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00555"></a>00555                 <a class="code" href="rbtree_8c.html#a0b545cf4437d8c5d38248ae8e5f25053">__rbtree_rotate_right</a>(t, <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n));
<a name="l00556"></a>00556         }
<a name="l00557"></a>00557         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (
<a name="l00558"></a>00558                 n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> &amp;&amp;
<a name="l00559"></a>00559                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a> &amp;&amp;
<a name="l00560"></a>00560                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;right) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a> &amp;&amp;
<a name="l00561"></a>00561                 <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;left) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>
<a name="l00562"></a>00562                 )
<a name="l00563"></a>00563         {
<a name="l00564"></a>00564                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00565"></a>00565                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00566"></a>00566                 <a class="code" href="rbtree_8c.html#ac375b01a7355a90892ee4736d340f5dc">__rbtree_rotate_left</a>(t, <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n));
<a name="l00567"></a>00567         }
<a name="l00568"></a>00568         <a class="code" href="rbtree_8c.html#ae9bc99cf7832e7ea38ebfb4a8e28aec0">__rbtree_delete_case6</a>(t, n);
<a name="l00569"></a>00569 }
<a name="l00570"></a>00570 
<a name="l00571"></a><a class="code" href="rbtree_8c.html#ae9bc99cf7832e7ea38ebfb4a8e28aec0">00571</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#ae9bc99cf7832e7ea38ebfb4a8e28aec0">__rbtree_delete_case6</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00572"></a>00572 {
<a name="l00573"></a>00573         <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00574"></a>00574         n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00575"></a>00575         <span class="keywordflow">if</span> (n == n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>) {
<a name="l00576"></a>00576                 assert(<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;right) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>);
<a name="l00577"></a>00577                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00578"></a>00578                 <a class="code" href="rbtree_8c.html#ac375b01a7355a90892ee4736d340f5dc">__rbtree_rotate_left</a>(t, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00579"></a>00579         }
<a name="l00580"></a>00580         <span class="keywordflow">else</span> {
<a name="l00581"></a>00581                 assert(<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(<a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;left) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>);
<a name="l00582"></a>00582                 <a class="code" href="rbtree_8c.html#ae181139639e3e24907d8cd895354c93d">__rbtree_sibling</a>(n)-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00583"></a>00583                 <a class="code" href="rbtree_8c.html#a0b545cf4437d8c5d38248ae8e5f25053">__rbtree_rotate_right</a>(t, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00584"></a>00584         }
<a name="l00585"></a>00585 }
<a name="l00586"></a>00586 
<a name="l00587"></a><a class="code" href="rbtree_8h.html#a6ece394bfd68ff742a27343c0f87e812">00587</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a6ece394bfd68ff742a27343c0f87e812" title="Detach the given node from the tree.">rbtree_detach_node</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00588"></a>00588 {
<a name="l00589"></a>00589         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * child = NULL;
<a name="l00590"></a>00590 
<a name="l00591"></a>00591         <span class="keywordflow">if</span> (n == NULL)
<a name="l00592"></a>00592                 <span class="keywordflow">return</span>(NULL);
<a name="l00593"></a>00593 
<a name="l00594"></a>00594         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL) {
<a name="l00595"></a>00595                 <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * pred = NULL;
<a name="l00596"></a>00596 
<a name="l00597"></a>00597                 pred = <a class="code" href="rbtree_8c.html#acc37d1f06fef3616bed538c92a951f8f">__rbtree_maximum_node</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l00598"></a>00598                 n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a> = pred-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>;
<a name="l00599"></a>00599                 n-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a> = pred-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>;
<a name="l00600"></a>00600                 n = pred;
<a name="l00601"></a>00601         }
<a name="l00602"></a>00602 
<a name="l00603"></a>00603         assert(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> == NULL || n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> == NULL);
<a name="l00604"></a>00604         child = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> == NULL ? n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> : n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00605"></a>00605         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(n) == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>) {
<a name="l00606"></a>00606                 n-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a6a0f5779879b99ae8c31675ac7eb0a1d">__rbnode_t_color</a>(child);
<a name="l00607"></a>00607                 <a class="code" href="rbtree_8c.html#abcd5a0c6b013c882c9aa9dc512c8ddc2">__rbtree_delete_case1</a>(t, n);
<a name="l00608"></a>00608         }
<a name="l00609"></a>00609         <a class="code" href="rbtree_8c.html#afe53c1cf283bf7953247008814060bc5">replace_node</a>(t, n, child);
<a name="l00610"></a>00610         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == NULL &amp;&amp; child != NULL)
<a name="l00611"></a>00611                 child-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf77fb67151d0c18d397069ad8c271ba3">BLACK</a>;
<a name="l00612"></a>00612         t-&gt;<a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">size</a>--;
<a name="l00613"></a>00613 
<a name="l00614"></a>00614         <a class="code" href="rbtree_8c.html#a3567377e95aead6d4070d14e2258b166">__rbtree_verify_properties</a>(t);
<a name="l00615"></a>00615         n-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> = <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a>;
<a name="l00616"></a>00616         n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> = NULL;
<a name="l00617"></a>00617         n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> = NULL;
<a name="l00618"></a>00618         n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> = NULL;
<a name="l00619"></a>00619         <span class="keywordflow">return</span>(n);
<a name="l00620"></a>00620 }
<a name="l00621"></a>00621 
<a name="l00622"></a><a class="code" href="rbtree_8h.html#ab63a120cf1b6a0f770a872ea1139f404">00622</a> <span class="keywordtype">int</span> <a class="code" href="rbtree_8c.html#ab63a120cf1b6a0f770a872ea1139f404" title="Given a tree and a node, remove the node from the tree.">rbtree_remove</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00623"></a>00623 {
<a name="l00624"></a>00624         <span class="keywordflow">if</span> ((n = <a class="code" href="rbtree_8c.html#a6ece394bfd68ff742a27343c0f87e812" title="Detach the given node from the tree.">rbtree_detach_node</a>(t, n)) == NULL)
<a name="l00625"></a>00625                 <span class="keywordflow">return</span>(0);
<a name="l00626"></a>00626         <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">free</a> != NULL)
<a name="l00627"></a>00627                 t-&gt;<a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">free</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>, n-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>);
<a name="l00628"></a>00628         free(n);
<a name="l00629"></a>00629         <span class="keywordflow">return</span>(1);
<a name="l00630"></a>00630 }
<a name="l00631"></a>00631 
<a name="l00632"></a><a class="code" href="rbtree_8h.html#a3d44f3c3a531e1a56d12c5ef4e46ddba">00632</a> <span class="keywordtype">size_t</span> <a class="code" href="rbtree_8c.html#a3d44f3c3a531e1a56d12c5ef4e46ddba" title="Return the number of nodes in the tree.">rbtree_size</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00633"></a>00633 {
<a name="l00634"></a>00634         <span class="keywordflow">return</span>(t == NULL ? 0 : t-&gt;<a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">size</a>);
<a name="l00635"></a>00635 }
<a name="l00636"></a>00636 
<a name="l00637"></a><a class="code" href="rbtree_8c.html#a995be980da901ed9f3022970ff494491">00637</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a995be980da901ed9f3022970ff494491">__rbtree_apply_function</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n, <a class="code" href="rbtree_8h.html#a9ce9f6f423502a2a109f8055668d4d2a" title="A processing function used by rbtree_apply() to apply a transformation to each value of each node in ...">rbtree_func</a> func)
<a name="l00638"></a>00638 {
<a name="l00639"></a>00639         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * r = NULL;
<a name="l00640"></a>00640 
<a name="l00641"></a>00641         <span class="keywordflow">if</span> (n == NULL)
<a name="l00642"></a>00642                 <span class="keywordflow">return</span>(NULL);
<a name="l00643"></a>00643         <span class="keywordflow">if</span> (!func(n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>, n-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>))
<a name="l00644"></a>00644                 <span class="keywordflow">return</span>(n);
<a name="l00645"></a>00645         r = <a class="code" href="rbtree_8c.html#a995be980da901ed9f3022970ff494491">__rbtree_apply_function</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>, func);
<a name="l00646"></a>00646         <span class="keywordflow">if</span> (r != NULL)
<a name="l00647"></a>00647                 <span class="keywordflow">return</span>(r);
<a name="l00648"></a>00648         r = <a class="code" href="rbtree_8c.html#a995be980da901ed9f3022970ff494491">__rbtree_apply_function</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>, func);
<a name="l00649"></a>00649         <span class="keywordflow">if</span> (r != NULL)
<a name="l00650"></a>00650                 <span class="keywordflow">return</span>(r);
<a name="l00651"></a>00651         <span class="keywordflow">return</span>(NULL);
<a name="l00652"></a>00652 }
<a name="l00653"></a>00653 
<a name="l00654"></a><a class="code" href="rbtree_8c.html#a7bd3073286ce9dce00533e24c8a855be">00654</a> <span class="keywordtype">void</span> <a class="code" href="rbtree_8c.html#a7bd3073286ce9dce00533e24c8a855be">__rbtree_destroy_nodes</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00655"></a>00655 {
<a name="l00656"></a>00656         <span class="keywordflow">if</span> (n == NULL)
<a name="l00657"></a>00657                 <span class="keywordflow">return</span>;
<a name="l00658"></a>00658         <a class="code" href="rbtree_8c.html#a7bd3073286ce9dce00533e24c8a855be">__rbtree_destroy_nodes</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l00659"></a>00659         <a class="code" href="rbtree_8c.html#a7bd3073286ce9dce00533e24c8a855be">__rbtree_destroy_nodes</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>);
<a name="l00660"></a>00660         free(n);
<a name="l00661"></a>00661 }
<a name="l00662"></a>00662 
<a name="l00663"></a><a class="code" href="rbtree_8h.html#a04081812b705be81f807e8afa3eec04c">00663</a> <a class="code" href="struct____rbtree__t.html">rbtree_t</a> * <a class="code" href="rbtree_8c.html#a04081812b705be81f807e8afa3eec04c" title="Destroy a tree and free all nodes, keys, and values.">rbtree_destroy</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00664"></a>00664 {
<a name="l00665"></a>00665         <span class="keywordflow">if</span> (t == NULL)
<a name="l00666"></a>00666                 <span class="keywordflow">return</span>(NULL);
<a name="l00667"></a>00667         <a class="code" href="rbtree_8c.html#a7bd3073286ce9dce00533e24c8a855be">__rbtree_destroy_nodes</a>(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l00668"></a>00668         free(t);
<a name="l00669"></a>00669         <span class="keywordflow">return</span>(NULL);
<a name="l00670"></a>00670 }
<a name="l00671"></a>00671 
<a name="l00672"></a><a class="code" href="rbtree_8c.html#ab549f086692be86566d2d4cb51ddd163">00672</a> <span class="keywordtype">int</span> <a class="code" href="rbtree_8c.html#ab549f086692be86566d2d4cb51ddd163">__rbtree_clone_node</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00673"></a>00673 {
<a name="l00674"></a>00674         assert(t != NULL);
<a name="l00675"></a>00675         assert(n != NULL);
<a name="l00676"></a>00676         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#ac3a6d87a1a3990ef98de3a4e6547cab1" title="Create a new node with the given key/value pair, and insert it into the tree.">rbtree_insert</a>(t, <a class="code" href="rbtree_8c.html#a07ee62245ed2dfceed2c3dfb6a2b9304" title="Return the key from a node.">rbtree_key</a>(n), <a class="code" href="rbtree_8c.html#a2ac84b4dc1354c6188387755ed113e5a" title="Return the value from a node.">rbtree_value</a>(n)) == 0)
<a name="l00677"></a>00677                 <span class="keywordflow">return</span>(0);
<a name="l00678"></a>00678         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a6db220a2081e5a8378efc1afd35f8225" title="Return the left child of a node.">rbtree_left</a>(n) != NULL)
<a name="l00679"></a>00679                 <span class="keywordflow">if</span> (!<a class="code" href="rbtree_8c.html#ab549f086692be86566d2d4cb51ddd163">__rbtree_clone_node</a>(t, <a class="code" href="rbtree_8c.html#a6db220a2081e5a8378efc1afd35f8225" title="Return the left child of a node.">rbtree_left</a>(n)))
<a name="l00680"></a>00680                         <span class="keywordflow">return</span>(0);
<a name="l00681"></a>00681         <span class="keywordflow">if</span> (<a class="code" href="rbtree_8c.html#a000af8db626d7f7a9100bd660a5fe5a5" title="Return the right child of a node.">rbtree_right</a>(n) != NULL)
<a name="l00682"></a>00682                 <span class="keywordflow">if</span> (!<a class="code" href="rbtree_8c.html#ab549f086692be86566d2d4cb51ddd163">__rbtree_clone_node</a>(t, <a class="code" href="rbtree_8c.html#a000af8db626d7f7a9100bd660a5fe5a5" title="Return the right child of a node.">rbtree_right</a>(n)))
<a name="l00683"></a>00683                         <span class="keywordflow">return</span>(0);
<a name="l00684"></a>00684         <span class="keywordflow">return</span>(1);
<a name="l00685"></a>00685 }
<a name="l00686"></a>00686 
<a name="l00687"></a><a class="code" href="rbtree_8h.html#a2292a0c7571111fad306167792d54b55">00687</a> <a class="code" href="struct____rbtree__t.html">rbtree_t</a> * <a class="code" href="rbtree_8c.html#a2292a0c7571111fad306167792d54b55" title="Make a copy of a tree.">rbtree_clone</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00688"></a>00688 {
<a name="l00689"></a>00689         <a class="code" href="struct____rbtree__t.html">rbtree_t</a> * new_t = NULL;
<a name="l00690"></a>00690 
<a name="l00691"></a>00691         <span class="keywordflow">if</span> (t == NULL)
<a name="l00692"></a>00692                 <span class="keywordflow">return</span>(NULL);
<a name="l00693"></a>00693         new_t = <a class="code" href="rbtree_8c.html#a21781311b2d0ce0203c651b4706ee5e1" title="Create a new tree.">rbtree_create</a>(t-&gt;<a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a>, t-&gt;<a class="code" href="struct____rbtree__t.html#afd89980b723f04b42b097d72a099f04f">free</a>);
<a name="l00694"></a>00694         <span class="keywordflow">if</span> (new_t == NULL)
<a name="l00695"></a>00695                 <span class="keywordflow">return</span>(NULL);
<a name="l00696"></a>00696         <span class="keywordflow">if</span> (!<a class="code" href="rbtree_8c.html#ab549f086692be86566d2d4cb51ddd163">__rbtree_clone_node</a>(new_t, <a class="code" href="rbtree_8c.html#a61d16485cc152daf2bf757dc2b4d3d3d" title="Return the root node of a tree.">rbtree_top</a>(t))) {
<a name="l00697"></a>00697                 <a class="code" href="rbtree_8c.html#a04081812b705be81f807e8afa3eec04c" title="Destroy a tree and free all nodes, keys, and values.">rbtree_destroy</a>(new_t);
<a name="l00698"></a>00698                 <span class="keywordflow">return</span>(NULL);
<a name="l00699"></a>00699         }
<a name="l00700"></a>00700         <span class="keywordflow">return</span>(new_t);
<a name="l00701"></a>00701 }
<a name="l00702"></a>00702 
<a name="l00703"></a><a class="code" href="rbtree_8h.html#ac0c2dd82c8b88b10245bc4522fe9ba86">00703</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ac0c2dd82c8b88b10245bc4522fe9ba86" title="Apply a transformation to each value of each node in the tree.">rbtree_apply</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <a class="code" href="rbtree_8h.html#a9ce9f6f423502a2a109f8055668d4d2a" title="A processing function used by rbtree_apply() to apply a transformation to each value of each node in ...">rbtree_func</a> func)
<a name="l00704"></a>00704 {
<a name="l00705"></a>00705         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00706"></a>00706 
<a name="l00707"></a>00707         <span class="keywordflow">if</span> (t == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l00708"></a>00708         n = t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00709"></a>00709         <span class="keywordflow">return</span>(<a class="code" href="rbtree_8c.html#a995be980da901ed9f3022970ff494491">__rbtree_apply_function</a>(n, func));
<a name="l00710"></a>00710 }
<a name="l00711"></a>00711 
<a name="l00712"></a><a class="code" href="rbtree_8c.html#aa0257a3f48b3e466d5fd01ad5dd22392">00712</a> <span class="keywordtype">int</span> <a class="code" href="rbtree_8c.html#aa0257a3f48b3e466d5fd01ad5dd22392">__rbtree_write_gv_node</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n, FILE * fout,
<a name="l00713"></a>00713         <span class="keywordtype">int</span> (*write_node_key)(FILE * fout, <span class="keywordtype">void</span> * key),
<a name="l00714"></a>00714         <span class="keywordtype">int</span> (*write_node_value)(FILE * fout, <span class="keywordtype">void</span> * value))
<a name="l00715"></a>00715 {
<a name="l00716"></a>00716         <span class="keywordflow">if</span> (n == NULL) <span class="keywordflow">return</span>(0);
<a name="l00717"></a>00717         assert(write_node_key != NULL);
<a name="l00718"></a>00718         fprintf(fout, <span class="stringliteral">&quot;  &quot;</span>);
<a name="l00719"></a>00719         <span class="keywordflow">if</span> (!write_node_key(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>)) <span class="keywordflow">return</span>(0);
<a name="l00720"></a>00720         fprintf(fout, <span class="stringliteral">&quot; [ &quot;</span>);
<a name="l00721"></a>00721         <span class="keywordflow">if</span> (write_node_value != NULL) {
<a name="l00722"></a>00722                 fprintf(fout, <span class="stringliteral">&quot; label=\&quot;&quot;</span>);
<a name="l00723"></a>00723                 <span class="keywordflow">if</span> (!write_node_value(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>)) <span class="keywordflow">return</span>(0);
<a name="l00724"></a>00724                 fprintf(fout, <span class="stringliteral">&quot;\&quot;&quot;</span>);
<a name="l00725"></a>00725         }
<a name="l00726"></a>00726         fprintf(fout, <span class="stringliteral">&quot; color=\&quot;%s\&quot;&quot;</span>, n-&gt;<a class="code" href="struct____rbnode__t.html#a01a7c45707373197fec0f7276e4cb53d">color</a> == <a class="code" href="rbtree_8c.html#a641d02a12342e0dbc75d0bbfcba8472baf80f9a890089d211842d59625e561f88">RED</a> ? <span class="stringliteral">&quot;red&quot;</span> : <span class="stringliteral">&quot;black&quot;</span>);
<a name="l00727"></a>00727         fprintf(fout, <span class="stringliteral">&quot; ];\n&quot;</span>);
<a name="l00728"></a>00728 
<a name="l00729"></a>00729         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL) {
<a name="l00730"></a>00730                 fprintf(fout, <span class="stringliteral">&quot;  &quot;</span>);
<a name="l00731"></a>00731                 <span class="keywordflow">if</span> (!write_node_key(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>)) <span class="keywordflow">return</span>(0);
<a name="l00732"></a>00732                 fprintf(fout, <span class="stringliteral">&quot; -&gt; &quot;</span>);
<a name="l00733"></a>00733                 <span class="keywordflow">if</span> (!write_node_key(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>)) <span class="keywordflow">return</span>(0);
<a name="l00734"></a>00734                 fprintf(fout, <span class="stringliteral">&quot; [ label=\&quot;l\&quot; ];\n&quot;</span>);
<a name="l00735"></a>00735         }
<a name="l00736"></a>00736         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL) {
<a name="l00737"></a>00737                 fprintf(fout, <span class="stringliteral">&quot;  &quot;</span>);
<a name="l00738"></a>00738                 <span class="keywordflow">if</span> (!write_node_key(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>)) <span class="keywordflow">return</span>(0);
<a name="l00739"></a>00739                 fprintf(fout, <span class="stringliteral">&quot; -&gt; &quot;</span>);
<a name="l00740"></a>00740                 <span class="keywordflow">if</span> (!write_node_key(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>)) <span class="keywordflow">return</span>(0);
<a name="l00741"></a>00741                 fprintf(fout, <span class="stringliteral">&quot; [ label=\&quot;r\&quot; ];\n&quot;</span>);
<a name="l00742"></a>00742         }
<a name="l00743"></a>00743         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL) {
<a name="l00744"></a>00744                 fprintf(fout, <span class="stringliteral">&quot;  &quot;</span>);
<a name="l00745"></a>00745                 <span class="keywordflow">if</span> (!write_node_key(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>)) <span class="keywordflow">return</span>(0);
<a name="l00746"></a>00746                 fprintf(fout, <span class="stringliteral">&quot; -&gt; &quot;</span>);
<a name="l00747"></a>00747                 <span class="keywordflow">if</span> (!write_node_key(fout, n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>)) <span class="keywordflow">return</span>(0);
<a name="l00748"></a>00748                 fprintf(fout, <span class="stringliteral">&quot; [ label=\&quot;p\&quot; ];\n&quot;</span>);
<a name="l00749"></a>00749         }
<a name="l00750"></a>00750 
<a name="l00751"></a>00751         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL) {
<a name="l00752"></a>00752                 <span class="keywordflow">if</span> (!<a class="code" href="rbtree_8c.html#aa0257a3f48b3e466d5fd01ad5dd22392">__rbtree_write_gv_node</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>, fout, write_node_key, write_node_value))
<a name="l00753"></a>00753                         <span class="keywordflow">return</span>(0);
<a name="l00754"></a>00754         }
<a name="l00755"></a>00755         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL) {
<a name="l00756"></a>00756                 <span class="keywordflow">if</span> (!<a class="code" href="rbtree_8c.html#aa0257a3f48b3e466d5fd01ad5dd22392">__rbtree_write_gv_node</a>(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>, fout, write_node_key, write_node_value))
<a name="l00757"></a>00757                         <span class="keywordflow">return</span>(0);
<a name="l00758"></a>00758         }
<a name="l00759"></a>00759 
<a name="l00760"></a>00760         <span class="keywordflow">return</span>(1);
<a name="l00761"></a>00761 }
<a name="l00762"></a>00762 
<a name="l00763"></a><a class="code" href="rbtree_8h.html#af45290b35859b5bbc55e032c6183f534">00763</a> <span class="keywordtype">int</span> <a class="code" href="rbtree_8c.html#af45290b35859b5bbc55e032c6183f534" title="Write a tree as a graphviz dot file.">rbtree_write_gv</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t, <span class="keywordtype">char</span> * filename,
<a name="l00764"></a>00764         <span class="keywordtype">int</span> (*write_node_key)(FILE * fout, <span class="keywordtype">void</span> * key),
<a name="l00765"></a>00765         <span class="keywordtype">int</span> (*write_node_value)(FILE * fout, <span class="keywordtype">void</span> * value))
<a name="l00766"></a>00766 {
<a name="l00767"></a>00767         FILE * fout = NULL;
<a name="l00768"></a>00768 
<a name="l00769"></a>00769         fout = fopen(filename, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l00770"></a>00770         <span class="keywordflow">if</span> (!fout) <span class="keywordflow">return</span>(0);
<a name="l00771"></a>00771 
<a name="l00772"></a>00772         fprintf(fout, <span class="stringliteral">&quot;// Visuallize this file with the following command:\n&quot;</span>);
<a name="l00773"></a>00773         fprintf(fout, <span class="stringliteral">&quot;// dot -Tsvgz &#39;%s&#39; | display - &amp;\n&quot;</span>, filename);
<a name="l00774"></a>00774         fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00775"></a>00775         fprintf(fout, <span class="stringliteral">&quot;digraph G {\n&quot;</span>);
<a name="l00776"></a>00776         <span class="comment">// fprintf(fout, &quot;  graph [ ordering=\&quot;out\&quot; ];\n&quot;);</span>
<a name="l00777"></a>00777         fprintf(fout, <span class="stringliteral">&quot;  nodesep=0.3;\n&quot;</span>);
<a name="l00778"></a>00778         fprintf(fout, <span class="stringliteral">&quot;  ranksep=0.2;\n&quot;</span>);
<a name="l00779"></a>00779         fprintf(fout, <span class="stringliteral">&quot;  margin=0.1;\n&quot;</span>);
<a name="l00780"></a>00780         fprintf(fout, <span class="stringliteral">&quot;  node [ style=filled, fillcolor=yellow, shape=circle ];\n&quot;</span>);
<a name="l00781"></a>00781         fprintf(fout, <span class="stringliteral">&quot;  edge [ arrowsize=0.8 ];\n&quot;</span>);
<a name="l00782"></a>00782         fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00783"></a>00783         <span class="keywordflow">if</span> (!<a class="code" href="rbtree_8c.html#aa0257a3f48b3e466d5fd01ad5dd22392">__rbtree_write_gv_node</a>(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>, fout, write_node_key, write_node_value)) {
<a name="l00784"></a>00784                 fclose(fout);
<a name="l00785"></a>00785                 <span class="keywordflow">return</span>(0);
<a name="l00786"></a>00786         }
<a name="l00787"></a>00787         fprintf(fout, <span class="stringliteral">&quot;}\n&quot;</span>);
<a name="l00788"></a>00788         fclose(fout);
<a name="l00789"></a>00789         <span class="keywordflow">return</span>(1);
<a name="l00790"></a>00790 }
<a name="l00791"></a>00791 
<a name="l00792"></a><a class="code" href="rbtree_8h.html#a07ee62245ed2dfceed2c3dfb6a2b9304">00792</a> <span class="keywordtype">void</span> * <a class="code" href="rbtree_8c.html#a07ee62245ed2dfceed2c3dfb6a2b9304" title="Return the key from a node.">rbtree_key</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00793"></a>00793 {
<a name="l00794"></a>00794         <span class="keywordflow">return</span>(n == NULL ? NULL : n-&gt;<a class="code" href="struct____rbnode__t.html#a64a7d5cd35b64d7a7f8d53ac1e9e909e">key</a>);
<a name="l00795"></a>00795 }
<a name="l00796"></a>00796 
<a name="l00797"></a><a class="code" href="rbtree_8h.html#a2ac84b4dc1354c6188387755ed113e5a">00797</a> <span class="keywordtype">void</span> * <a class="code" href="rbtree_8c.html#a2ac84b4dc1354c6188387755ed113e5a" title="Return the value from a node.">rbtree_value</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00798"></a>00798 {
<a name="l00799"></a>00799         <span class="keywordflow">return</span>(n == NULL ? NULL : n-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>);
<a name="l00800"></a>00800 }
<a name="l00801"></a>00801 
<a name="l00802"></a><a class="code" href="rbtree_8h.html#a61d16485cc152daf2bf757dc2b4d3d3d">00802</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a61d16485cc152daf2bf757dc2b4d3d3d" title="Return the root node of a tree.">rbtree_top</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00803"></a>00803 {
<a name="l00804"></a>00804         <span class="keywordflow">return</span>(t == NULL ? NULL : t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l00805"></a>00805 }
<a name="l00806"></a>00806 
<a name="l00807"></a><a class="code" href="rbtree_8h.html#a6db220a2081e5a8378efc1afd35f8225">00807</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a6db220a2081e5a8378efc1afd35f8225" title="Return the left child of a node.">rbtree_left</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00808"></a>00808 {
<a name="l00809"></a>00809         <span class="keywordflow">return</span>(n == NULL ? NULL : n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l00810"></a>00810 }
<a name="l00811"></a>00811 
<a name="l00812"></a><a class="code" href="rbtree_8h.html#a000af8db626d7f7a9100bd660a5fe5a5">00812</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a000af8db626d7f7a9100bd660a5fe5a5" title="Return the right child of a node.">rbtree_right</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00813"></a>00813 {
<a name="l00814"></a>00814         <span class="keywordflow">return</span>(n == NULL ? NULL : n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>);
<a name="l00815"></a>00815 }
<a name="l00816"></a>00816 
<a name="l00817"></a><a class="code" href="rbtree_8h.html#a743c26ab31c9205dfca65d0030b49fb5">00817</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a743c26ab31c9205dfca65d0030b49fb5" title="Return the parent node of a node.">rbtree_parent</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00818"></a>00818 {
<a name="l00819"></a>00819         <span class="keywordflow">return</span>(n == NULL ? NULL : n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>);
<a name="l00820"></a>00820 }
<a name="l00821"></a>00821 
<a name="l00822"></a><a class="code" href="rbtree_8h.html#a174e1ba240a0952117505f6a27b201f9">00822</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a174e1ba240a0952117505f6a27b201f9" title="Given a tree, return the first node for in-order traversal.">rbtree_in_order_first</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00823"></a>00823 {
<a name="l00824"></a>00824         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00825"></a>00825 
<a name="l00826"></a>00826         <span class="keywordflow">if</span> (t == NULL)
<a name="l00827"></a>00827                 <span class="keywordflow">return</span>(NULL);
<a name="l00828"></a>00828         <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> == NULL)
<a name="l00829"></a>00829                 <span class="keywordflow">return</span>(NULL);
<a name="l00830"></a>00830         
<a name="l00831"></a>00831         n = t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00832"></a>00832         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL)
<a name="l00833"></a>00833                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00834"></a>00834         <span class="keywordflow">return</span>(n);
<a name="l00835"></a>00835 }
<a name="l00836"></a>00836 
<a name="l00837"></a><a class="code" href="rbtree_8h.html#a82c8f7ef4d50114e17c9b38217adc7a9">00837</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a82c8f7ef4d50114e17c9b38217adc7a9" title="Given a tree, return the first node for reverse in-order traversal.">rbtree_in_order_last</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00838"></a>00838 {
<a name="l00839"></a>00839         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00840"></a>00840 
<a name="l00841"></a>00841         <span class="keywordflow">if</span> (t == NULL)
<a name="l00842"></a>00842                 <span class="keywordflow">return</span>(NULL);
<a name="l00843"></a>00843         <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> == NULL)
<a name="l00844"></a>00844                 <span class="keywordflow">return</span>(NULL);
<a name="l00845"></a>00845         
<a name="l00846"></a>00846         n = t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00847"></a>00847         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL)
<a name="l00848"></a>00848                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00849"></a>00849         <span class="keywordflow">return</span>(n);
<a name="l00850"></a>00850 }
<a name="l00851"></a>00851 
<a name="l00852"></a><a class="code" href="rbtree_8h.html#a3e90a62821c7d018d8a576752139413a">00852</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a3e90a62821c7d018d8a576752139413a" title="Given a node, return the next node via in-order traversal.">rbtree_in_order_next</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00853"></a>00853 {
<a name="l00854"></a>00854         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * l = NULL;
<a name="l00855"></a>00855 
<a name="l00856"></a>00856         <span class="keywordflow">if</span> (n == NULL)
<a name="l00857"></a>00857                 <span class="keywordflow">return</span>(NULL);
<a name="l00858"></a>00858 
<a name="l00859"></a>00859         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL) {
<a name="l00860"></a>00860                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00861"></a>00861                 <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL)
<a name="l00862"></a>00862                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00863"></a>00863                 <span class="keywordflow">return</span>(n);
<a name="l00864"></a>00864         }
<a name="l00865"></a>00865 
<a name="l00866"></a>00866         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> == n) {
<a name="l00867"></a>00867                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00868"></a>00868                 <span class="keywordflow">return</span>(n);
<a name="l00869"></a>00869         }
<a name="l00870"></a>00870 
<a name="l00871"></a>00871         l = n;
<a name="l00872"></a>00872         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00873"></a>00873         <span class="keywordflow">while</span> (n != NULL &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> == l) {
<a name="l00874"></a>00874                 l = n;
<a name="l00875"></a>00875                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00876"></a>00876         }
<a name="l00877"></a>00877         <span class="keywordflow">return</span>(n);
<a name="l00878"></a>00878 }
<a name="l00879"></a>00879 
<a name="l00880"></a><a class="code" href="rbtree_8h.html#a7ca3edac95bf7b4fe8cbb55938db420f">00880</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a7ca3edac95bf7b4fe8cbb55938db420f" title="Given a node, return the previous node via reverse in-order traversal.">rbtree_in_order_prev</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00881"></a>00881 {
<a name="l00882"></a>00882         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * l = NULL;
<a name="l00883"></a>00883 
<a name="l00884"></a>00884         <span class="keywordflow">if</span> (n == NULL)
<a name="l00885"></a>00885                 <span class="keywordflow">return</span>(NULL);
<a name="l00886"></a>00886         
<a name="l00887"></a>00887         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL) {
<a name="l00888"></a>00888                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00889"></a>00889                 <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL)
<a name="l00890"></a>00890                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00891"></a>00891                 <span class="keywordflow">return</span>(n);
<a name="l00892"></a>00892         }
<a name="l00893"></a>00893 
<a name="l00894"></a>00894         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> == n) {
<a name="l00895"></a>00895                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00896"></a>00896                 <span class="keywordflow">return</span>(n);
<a name="l00897"></a>00897         }
<a name="l00898"></a>00898 
<a name="l00899"></a>00899         l = n;
<a name="l00900"></a>00900         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00901"></a>00901         <span class="keywordflow">while</span> (n != NULL &amp;&amp; n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> == l) {
<a name="l00902"></a>00902                 l = n;
<a name="l00903"></a>00903                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00904"></a>00904         }
<a name="l00905"></a>00905         <span class="keywordflow">return</span>(n);
<a name="l00906"></a>00906 }
<a name="l00907"></a>00907 
<a name="l00908"></a><a class="code" href="rbtree_8h.html#af9b5ea6d6fc157817d1897ce2f1fc0bd">00908</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#af9b5ea6d6fc157817d1897ce2f1fc0bd" title="Given a tree, return the first node for pre-order traversal.">rbtree_pre_order_first</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00909"></a>00909 {
<a name="l00910"></a>00910         <span class="keywordflow">if</span> (t == NULL)
<a name="l00911"></a>00911                 <span class="keywordflow">return</span>(NULL);
<a name="l00912"></a>00912         <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> == NULL)
<a name="l00913"></a>00913                 <span class="keywordflow">return</span>(NULL);
<a name="l00914"></a>00914         <span class="keywordflow">return</span>(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l00915"></a>00915 }
<a name="l00916"></a>00916 
<a name="l00917"></a><a class="code" href="rbtree_8h.html#a01ad473885fb548cb3374033de80f2e4">00917</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a01ad473885fb548cb3374033de80f2e4" title="Given a tree, return the first node for reverse pre-order traversal.">rbtree_pre_order_last</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00918"></a>00918 {
<a name="l00919"></a>00919         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00920"></a>00920 
<a name="l00921"></a>00921         <span class="keywordflow">if</span> (t == NULL)
<a name="l00922"></a>00922                 <span class="keywordflow">return</span>(NULL);
<a name="l00923"></a>00923         <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> == NULL)
<a name="l00924"></a>00924                 <span class="keywordflow">return</span>(NULL);
<a name="l00925"></a>00925         n = t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00926"></a>00926         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL)
<a name="l00927"></a>00927                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00928"></a>00928         <span class="keywordflow">return</span>(n);
<a name="l00929"></a>00929 }
<a name="l00930"></a>00930 
<a name="l00931"></a><a class="code" href="rbtree_8h.html#ab1fd3022dc146098cc7d42e1aeecec50">00931</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ab1fd3022dc146098cc7d42e1aeecec50" title="Given a node, return the next node via pre-order traversal.">rbtree_pre_order_next</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00932"></a>00932 {
<a name="l00933"></a>00933         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * l = NULL;
<a name="l00934"></a>00934 
<a name="l00935"></a>00935         <span class="keywordflow">if</span> (n == NULL)
<a name="l00936"></a>00936                 <span class="keywordflow">return</span>(NULL);
<a name="l00937"></a>00937         
<a name="l00938"></a>00938         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL)
<a name="l00939"></a>00939                 <span class="keywordflow">return</span>(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l00940"></a>00940         
<a name="l00941"></a>00941         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL)
<a name="l00942"></a>00942                 <span class="keywordflow">return</span>(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>);
<a name="l00943"></a>00943         
<a name="l00944"></a>00944         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == NULL)
<a name="l00945"></a>00945                 <span class="keywordflow">return</span>(NULL);
<a name="l00946"></a>00946         
<a name="l00947"></a>00947         l = n;
<a name="l00948"></a>00948         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00949"></a>00949         <span class="keywordflow">while</span> (l == n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>) {
<a name="l00950"></a>00950                 l = n;
<a name="l00951"></a>00951                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00952"></a>00952                 <span class="keywordflow">if</span> (n == NULL)
<a name="l00953"></a>00953                         <span class="keywordflow">return</span>(NULL);
<a name="l00954"></a>00954         }
<a name="l00955"></a>00955         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00956"></a>00956         <span class="keywordflow">return</span>(n);
<a name="l00957"></a>00957 }
<a name="l00958"></a>00958 
<a name="l00959"></a><a class="code" href="rbtree_8h.html#a51555a04a2d66b7eba7049ea6c2e44a8">00959</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a51555a04a2d66b7eba7049ea6c2e44a8" title="Given a node, return the previous node via reverse in-order traversal.">rbtree_pre_order_prev</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l00960"></a>00960 {
<a name="l00961"></a>00961         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * l = NULL;
<a name="l00962"></a>00962 
<a name="l00963"></a>00963         <span class="keywordflow">if</span> (n == NULL)
<a name="l00964"></a>00964                 <span class="keywordflow">return</span>(NULL);
<a name="l00965"></a>00965         
<a name="l00966"></a>00966         l = n;
<a name="l00967"></a>00967         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l00968"></a>00968         <span class="keywordflow">if</span> (n == NULL)
<a name="l00969"></a>00969                 <span class="keywordflow">return</span>(NULL);
<a name="l00970"></a>00970         <span class="keywordflow">if</span> (l == n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>) {
<a name="l00971"></a>00971                 <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> == NULL)
<a name="l00972"></a>00972                         <span class="keywordflow">return</span>(n);
<a name="l00973"></a>00973                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00974"></a>00974                 <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL)
<a name="l00975"></a>00975                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l00976"></a>00976         }
<a name="l00977"></a>00977         <span class="keywordflow">return</span>(n);
<a name="l00978"></a>00978 }
<a name="l00979"></a>00979 
<a name="l00980"></a>00980 
<a name="l00981"></a><a class="code" href="rbtree_8h.html#a1be9c3da0c47486f7278fa275d442493">00981</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a1be9c3da0c47486f7278fa275d442493" title="Given a tree, return the first node for post-order traversal.">rbtree_post_order_first</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00982"></a>00982 {
<a name="l00983"></a>00983         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l00984"></a>00984 
<a name="l00985"></a>00985         <span class="keywordflow">if</span> (t == NULL)
<a name="l00986"></a>00986                 <span class="keywordflow">return</span>(NULL);
<a name="l00987"></a>00987         <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a> == NULL)
<a name="l00988"></a>00988                 <span class="keywordflow">return</span>(NULL);
<a name="l00989"></a>00989         
<a name="l00990"></a>00990         n = t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>;
<a name="l00991"></a>00991         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL)
<a name="l00992"></a>00992                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l00993"></a>00993         <span class="keywordflow">return</span>(n);
<a name="l00994"></a>00994 }
<a name="l00995"></a>00995 
<a name="l00996"></a><a class="code" href="rbtree_8h.html#a5efa02239dfed92c4ed1bb3d94de2656">00996</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a5efa02239dfed92c4ed1bb3d94de2656" title="Given a tree, return the first node for reverse post-order traversal.">rbtree_post_order_last</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l00997"></a>00997 {
<a name="l00998"></a>00998         <span class="keywordflow">if</span> (t == NULL)
<a name="l00999"></a>00999                 <span class="keywordflow">return</span>(NULL);
<a name="l01000"></a>01000         <span class="keywordflow">return</span>(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l01001"></a>01001 }
<a name="l01002"></a>01002 
<a name="l01003"></a><a class="code" href="rbtree_8h.html#a9c776be6dbf6f5bef93bc97cc7ea6bde">01003</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a9c776be6dbf6f5bef93bc97cc7ea6bde" title="Given a node, return the next node via post-order traversal.">rbtree_post_order_next</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l01004"></a>01004 {
<a name="l01005"></a>01005         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * l = NULL;
<a name="l01006"></a>01006 
<a name="l01007"></a>01007         <span class="keywordflow">if</span> (n == NULL)
<a name="l01008"></a>01008                 <span class="keywordflow">return</span>(NULL);
<a name="l01009"></a>01009 
<a name="l01010"></a>01010         l = n;
<a name="l01011"></a>01011         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l01012"></a>01012         <span class="keywordflow">if</span> (n == NULL)
<a name="l01013"></a>01013                 <span class="keywordflow">return</span>(NULL);
<a name="l01014"></a>01014         <span class="keywordflow">if</span> (l == n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>) {
<a name="l01015"></a>01015                 <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> == NULL)
<a name="l01016"></a>01016                         <span class="keywordflow">return</span>(n);
<a name="l01017"></a>01017                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l01018"></a>01018                 <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL)
<a name="l01019"></a>01019                         n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l01020"></a>01020         }
<a name="l01021"></a>01021         <span class="keywordflow">return</span>(n);
<a name="l01022"></a>01022 }
<a name="l01023"></a>01023 
<a name="l01024"></a><a class="code" href="rbtree_8h.html#af9946309f06baa026e29a5f692024c23">01024</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#af9946309f06baa026e29a5f692024c23" title="Given a node, return the previous node via reverse post-order traversal.">rbtree_post_order_prev</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l01025"></a>01025 {
<a name="l01026"></a>01026         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * l = NULL;
<a name="l01027"></a>01027 
<a name="l01028"></a>01028         <span class="keywordflow">if</span> (n == NULL)
<a name="l01029"></a>01029                 <span class="keywordflow">return</span>(NULL);
<a name="l01030"></a>01030         
<a name="l01031"></a>01031         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL)
<a name="l01032"></a>01032                 <span class="keywordflow">return</span>(n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>);
<a name="l01033"></a>01033         
<a name="l01034"></a>01034         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL)
<a name="l01035"></a>01035                 <span class="keywordflow">return</span>(n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>);
<a name="l01036"></a>01036         
<a name="l01037"></a>01037         <span class="keywordflow">if</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> == NULL)
<a name="l01038"></a>01038                 <span class="keywordflow">return</span>(NULL);
<a name="l01039"></a>01039         
<a name="l01040"></a>01040         l = n;
<a name="l01041"></a>01041         n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l01042"></a>01042         <span class="keywordflow">while</span> (l == n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>) {
<a name="l01043"></a>01043                 l = n;
<a name="l01044"></a>01044                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l01045"></a>01045                 <span class="keywordflow">if</span> (n == NULL)
<a name="l01046"></a>01046                         <span class="keywordflow">return</span>(NULL);
<a name="l01047"></a>01047         }
<a name="l01048"></a>01048         n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l01049"></a>01049         <span class="keywordflow">return</span>(n);
<a name="l01050"></a>01050 }
<a name="l01051"></a>01051 
<a name="l01052"></a><a class="code" href="rbtree_8h.html#a9d7358224b721d962e718dc046fcdbd0">01052</a> <span class="keywordtype">int</span> <a class="code" href="rbtree_8c.html#a9d7358224b721d962e718dc046fcdbd0" title="Determine if two trees are identical.">rbtrees_are_identical</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t1, <a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t2)
<a name="l01053"></a>01053 {
<a name="l01054"></a>01054         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n1 = NULL;
<a name="l01055"></a>01055         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n2 = NULL;
<a name="l01056"></a>01056 
<a name="l01057"></a>01057         <span class="keywordflow">if</span> (t1 == t2)
<a name="l01058"></a>01058                 <span class="keywordflow">return</span>(1);
<a name="l01059"></a>01059         <span class="keywordflow">if</span> ((t1 == NULL) &amp;&amp; (t2 != NULL))
<a name="l01060"></a>01060                 <span class="keywordflow">return</span>(0);
<a name="l01061"></a>01061         <span class="keywordflow">if</span> ((t1 != NULL) &amp;&amp; (t2 == NULL))
<a name="l01062"></a>01062                 <span class="keywordflow">return</span>(0);
<a name="l01063"></a>01063         <span class="keywordflow">if</span> (t1-&gt;<a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">size</a> != t2-&gt;<a class="code" href="struct____rbtree__t.html#ac6b59a5884fec06b20cdffc32472c650">size</a>)
<a name="l01064"></a>01064                 <span class="keywordflow">return</span>(0);
<a name="l01065"></a>01065         <span class="keywordflow">if</span> (t1-&gt;<a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a> != t2-&gt;<a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a>) <span class="comment">// !!!</span>
<a name="l01066"></a>01066                 <span class="keywordflow">return</span>(0);
<a name="l01067"></a>01067         
<a name="l01068"></a>01068         n1 = <a class="code" href="rbtree_8c.html#a174e1ba240a0952117505f6a27b201f9" title="Given a tree, return the first node for in-order traversal.">rbtree_in_order_first</a>(t1);
<a name="l01069"></a>01069         n2 = <a class="code" href="rbtree_8c.html#a174e1ba240a0952117505f6a27b201f9" title="Given a tree, return the first node for in-order traversal.">rbtree_in_order_first</a>(t2);
<a name="l01070"></a>01070         <span class="keywordflow">while</span> ((n1 != NULL) &amp;&amp; (n2 != NULL)) {
<a name="l01071"></a>01071                 <span class="keywordflow">if</span> (t1-&gt;<a class="code" href="struct____rbtree__t.html#ae664dd551ae1221c976e57ca2af389e3">compare</a>(n1-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>, n2-&gt;<a class="code" href="struct____rbnode__t.html#ad947abffc706f9592b010ca31687fd81">value</a>) != 0)
<a name="l01072"></a>01072                         <span class="keywordflow">return</span>(0);
<a name="l01073"></a>01073                 n1 = <a class="code" href="rbtree_8c.html#a3e90a62821c7d018d8a576752139413a" title="Given a node, return the next node via in-order traversal.">rbtree_in_order_next</a>(n1);
<a name="l01074"></a>01074                 n2 = <a class="code" href="rbtree_8c.html#a3e90a62821c7d018d8a576752139413a" title="Given a node, return the next node via in-order traversal.">rbtree_in_order_next</a>(n2);
<a name="l01075"></a>01075         }
<a name="l01076"></a>01076         <span class="comment">// For this to fail, then either t1-&gt;size or t2-&gt;size must be corrupt</span>
<a name="l01077"></a>01077         assert(n1 == NULL &amp;&amp; n2 == NULL);
<a name="l01078"></a>01078         <span class="keywordflow">return</span>(1);
<a name="l01079"></a>01079 }
<a name="l01080"></a>01080 
<a name="l01081"></a><a class="code" href="rbtree_8h.html#ae592522470dd754b91d8c87d0e371fc4">01081</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ae592522470dd754b91d8c87d0e371fc4" title="Given a tree, return the first node for level-order traversal.">rbtree_level_order_first</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l01082"></a>01082 {
<a name="l01083"></a>01083         <span class="keywordflow">if</span> (t == NULL)
<a name="l01084"></a>01084                 <span class="keywordflow">return</span>(NULL);
<a name="l01085"></a>01085         <span class="keywordflow">return</span>(t-&gt;<a class="code" href="struct____rbtree__t.html#af34562a1daedf5cfdabfc44bc8501df9">root</a>);
<a name="l01086"></a>01086 }
<a name="l01087"></a>01087 
<a name="l01088"></a><a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">01088</a> <span class="keywordtype">size_t</span> <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l01089"></a>01089 {
<a name="l01090"></a>01090         <span class="keywordtype">size_t</span> depth = 0;
<a name="l01091"></a>01091 
<a name="l01092"></a>01092         <span class="keywordflow">while</span> (n != NULL) {
<a name="l01093"></a>01093                 n = <a class="code" href="rbtree_8c.html#a743c26ab31c9205dfca65d0030b49fb5" title="Return the parent node of a node.">rbtree_parent</a>(n);
<a name="l01094"></a>01094                 depth++;
<a name="l01095"></a>01095         }
<a name="l01096"></a>01096         <span class="keywordflow">return</span>(depth);
<a name="l01097"></a>01097 }
<a name="l01098"></a>01098 
<a name="l01099"></a><a class="code" href="rbtree_8h.html#a8c8436e3378f5dd0ba90348046a06850">01099</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#a8c8436e3378f5dd0ba90348046a06850" title="Given a tree, return the first node for reverse level-order traversal.">rbtree_level_order_last</a>(<a class="code" href="struct____rbtree__t.html">rbtree_t</a> * t)
<a name="l01100"></a>01100 {
<a name="l01101"></a>01101         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n = NULL;
<a name="l01102"></a>01102         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * deepest_right = NULL;
<a name="l01103"></a>01103         <span class="keywordtype">size_t</span> deepest_depth = 0;
<a name="l01104"></a>01104         <span class="keywordtype">size_t</span> this_depth = 0;
<a name="l01105"></a>01105 
<a name="l01106"></a>01106         <span class="comment">// This method is awful</span>
<a name="l01107"></a>01107 
<a name="l01108"></a>01108         deepest_right = <a class="code" href="rbtree_8c.html#a61d16485cc152daf2bf757dc2b4d3d3d" title="Return the root node of a tree.">rbtree_top</a>(t);
<a name="l01109"></a>01109         deepest_depth = 0;
<a name="l01110"></a>01110 
<a name="l01111"></a>01111         n = <a class="code" href="rbtree_8c.html#a5efa02239dfed92c4ed1bb3d94de2656" title="Given a tree, return the first node for reverse post-order traversal.">rbtree_post_order_last</a>(t);
<a name="l01112"></a>01112         <span class="keywordflow">while</span> (n != NULL) {
<a name="l01113"></a>01113                 this_depth = <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(n);
<a name="l01114"></a>01114                 <span class="keywordflow">if</span> (this_depth &gt; deepest_depth) {
<a name="l01115"></a>01115                         deepest_depth = this_depth;
<a name="l01116"></a>01116                         deepest_right = n;
<a name="l01117"></a>01117                 }
<a name="l01118"></a>01118                 n = <a class="code" href="rbtree_8c.html#af9946309f06baa026e29a5f692024c23" title="Given a node, return the previous node via reverse post-order traversal.">rbtree_post_order_prev</a>(n);
<a name="l01119"></a>01119         }
<a name="l01120"></a>01120         <span class="keywordflow">return</span>(deepest_right);
<a name="l01121"></a>01121 }
<a name="l01122"></a>01122 
<a name="l01123"></a><a class="code" href="rbtree_8h.html#abc75bfa6638623cf9c6b464c36d9d052">01123</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#abc75bfa6638623cf9c6b464c36d9d052" title="Given a node, return the next node via level-order traversal.">rbtree_level_order_next</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l01124"></a>01124 {
<a name="l01125"></a>01125         <span class="keywordtype">size_t</span> my_depth = 0;
<a name="l01126"></a>01126         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * s = n;
<a name="l01127"></a>01127 
<a name="l01128"></a>01128         <span class="keywordflow">if</span> (n == NULL)
<a name="l01129"></a>01129                 <span class="keywordflow">return</span>(NULL);
<a name="l01130"></a>01130         
<a name="l01131"></a>01131         <span class="comment">// This method is awful</span>
<a name="l01132"></a>01132 
<a name="l01133"></a>01133         my_depth = <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(n);
<a name="l01134"></a>01134         s = n;
<a name="l01135"></a>01135         n = <a class="code" href="rbtree_8c.html#a9c776be6dbf6f5bef93bc97cc7ea6bde" title="Given a node, return the next node via post-order traversal.">rbtree_post_order_next</a>(n);
<a name="l01136"></a>01136         <span class="keywordflow">while</span> (n != NULL &amp;&amp; <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(n) != my_depth)
<a name="l01137"></a>01137                 n = <a class="code" href="rbtree_8c.html#a9c776be6dbf6f5bef93bc97cc7ea6bde" title="Given a node, return the next node via post-order traversal.">rbtree_post_order_next</a>(n);
<a name="l01138"></a>01138         <span class="keywordflow">if</span> (n != NULL)
<a name="l01139"></a>01139                 <span class="keywordflow">return</span>(n);
<a name="l01140"></a>01140         n = s;
<a name="l01141"></a>01141         my_depth++;
<a name="l01142"></a>01142         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL)
<a name="l01143"></a>01143                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l01144"></a>01144         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a> != NULL)
<a name="l01145"></a>01145                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#ad3b56527e881333c54bde79d2fe3e27f">left</a>;
<a name="l01146"></a>01146         <span class="keywordflow">while</span> (n != NULL &amp;&amp; <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(n) != my_depth) {
<a name="l01147"></a>01147                 n = <a class="code" href="rbtree_8c.html#a3e90a62821c7d018d8a576752139413a" title="Given a node, return the next node via in-order traversal.">rbtree_in_order_next</a>(n);
<a name="l01148"></a>01148         }
<a name="l01149"></a>01149 
<a name="l01150"></a>01150         <span class="keywordflow">return</span>(n);
<a name="l01151"></a>01151 }
<a name="l01152"></a>01152 
<a name="l01153"></a><a class="code" href="rbtree_8h.html#ae34600aab51c56c27a74ab2b259daf88">01153</a> <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * <a class="code" href="rbtree_8c.html#ae34600aab51c56c27a74ab2b259daf88" title="Given a node, return the previous node via reverse level-order traversal.">rbtree_level_order_prev</a>(<a class="code" href="struct____rbnode__t.html">rbnode_t</a> * n)
<a name="l01154"></a>01154 {
<a name="l01155"></a>01155         <span class="keywordtype">size_t</span> my_depth = 0;
<a name="l01156"></a>01156         <a class="code" href="struct____rbnode__t.html">rbnode_t</a> * s = n;
<a name="l01157"></a>01157 
<a name="l01158"></a>01158         <span class="keywordflow">if</span> (n == NULL)
<a name="l01159"></a>01159                 <span class="keywordflow">return</span>(NULL);
<a name="l01160"></a>01160 
<a name="l01161"></a>01161         <span class="comment">// This method is awful</span>
<a name="l01162"></a>01162 
<a name="l01163"></a>01163         my_depth = <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(n);
<a name="l01164"></a>01164         s = n;
<a name="l01165"></a>01165         n = <a class="code" href="rbtree_8c.html#af9946309f06baa026e29a5f692024c23" title="Given a node, return the previous node via reverse post-order traversal.">rbtree_post_order_prev</a>(n);
<a name="l01166"></a>01166         <span class="keywordflow">while</span> (n != NULL &amp;&amp; <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(n) != my_depth)
<a name="l01167"></a>01167                 n = <a class="code" href="rbtree_8c.html#af9946309f06baa026e29a5f692024c23" title="Given a node, return the previous node via reverse post-order traversal.">rbtree_post_order_prev</a>(n);
<a name="l01168"></a>01168         <span class="keywordflow">if</span> (n != NULL)
<a name="l01169"></a>01169                 <span class="keywordflow">return</span>(n);
<a name="l01170"></a>01170         n = s;
<a name="l01171"></a>01171         my_depth--;
<a name="l01172"></a>01172         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a> != NULL)
<a name="l01173"></a>01173                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a224e9e57af3f17a0040c09629d477040">parent</a>;
<a name="l01174"></a>01174         <span class="keywordflow">while</span> (n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a> != NULL)
<a name="l01175"></a>01175                 n = n-&gt;<a class="code" href="struct____rbnode__t.html#a03500212d10b73be56460818525e746a">right</a>;
<a name="l01176"></a>01176         <span class="keywordflow">while</span> (n != NULL &amp;&amp; <a class="code" href="rbtree_8c.html#aefc27768d332471de2be0e16cdd6a513">__rbnode_t_depth</a>(n) != my_depth) {
<a name="l01177"></a>01177                 n = <a class="code" href="rbtree_8c.html#a7ca3edac95bf7b4fe8cbb55938db420f" title="Given a node, return the previous node via reverse in-order traversal.">rbtree_in_order_prev</a>(n);
<a name="l01178"></a>01178         }
<a name="l01179"></a>01179 
<a name="l01180"></a>01180         <span class="keywordflow">return</span>(n);
<a name="l01181"></a>01181 }
<a name="l01182"></a>01182 
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 16 2014 22:42:11 for cgdsa-c by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
